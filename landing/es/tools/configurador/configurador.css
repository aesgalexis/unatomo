:root {
  --cfg-maxw: 1125px; /* igual que el resto del sitio */
}

/* ====== Top bar fija (55px) ====== */
.cfg-topbar {
  position: fixed; inset: 0 0 auto 0; height: 55px;
  display: flex; align-items: center; gap: 14px;
  background: color-mix(in srgb, #fff 80%, transparent);
  -webkit-backdrop-filter: saturate(140%) blur(6px);
  backdrop-filter: saturate(140%) blur(6px);
  border-bottom: 1px solid color-mix(in srgb, #111 10%, transparent);
  z-index: 1000;
}
.cfg-topbar .inner {
  width: 100%; max-width: var(--cfg-maxw); margin: 0 auto;
  padding: 0 20px; display: flex; align-items: center; gap: 12px;
  justify-content: flex-start;
}
.cfg-brand { display: inline-flex; align-items: center; gap: 10px; text-decoration: none; color: inherit; }
.cfg-logo { width: 32px; height: 32px; opacity: .9; }
.cfg-title { font-size: 16px; font-weight: 600; letter-spacing: .2px; }

/* ====== Layout principal ====== */
body { background: #fff; }
.cfg-page { padding-top: 72px; padding-bottom: 48px; }
.cfg-container { width: 100%; max-width: var(--cfg-maxw); margin: 0 auto; padding: 0 20px; text-align: left; }

/* Encabezado de secciÃ³n */
.cfg-header { display: flex; align-items: baseline; justify-content: space-between; gap: 16px; margin: 8px 0 18px; }
.cfg-header h1 { font-size: clamp(26px, 4vw, 36px); margin: 0; letter-spacing: -.3px; }
.cfg-muted { color: color-mix(in srgb, currentColor 60%, transparent); font-size: 14px; }

/* Tarjeta contenedora */
.cfg-card {
  border: 1px solid color-mix(in srgb, currentColor 18%, transparent);
  border-radius: 12px; padding: 16px; background: #fff;
  box-shadow: 0 1px 0 color-mix(in srgb, #000 6%, transparent);
}

/* Tabla adaptable (grid) */
.cfg-grid { display: grid; grid-template-columns: 2.2fr .9fr .9fr .9fr; gap: 10px; align-items: center; }
.cfg-grid.header { font-weight: 600; font-size: 14px; opacity: .8; }
.cfg-grid + .cfg-grid { margin-top: 8px; }

/* Filas agrupables por familia */
.cfg-family { margin-top: 18px; }
.cfg-family > .fam-title { font-weight: 600; margin: 10px 0 8px; font-size: 15px; opacity: .75; }

/* Celdas e inputs */
.item-name { display: flex; align-items: center; gap: 8px; }
.item-sub { font-size: 12px; opacity: .75; }

.cfg-input { width: 100%; box-sizing: border-box; height: 38px; padding: 6px 10px; border-radius: 8px; border: 1px solid color-mix(in srgb, currentColor 18%, transparent); background: #fff; color: #111; font-size: 14px; }
.cfg-input[readonly] { background: #fafafa; color: #333; }
.cfg-input:focus { outline: none; border-color: color-mix(in srgb, #111 40%, transparent); box-shadow: 0 0 0 2px color-mix(in srgb, #111 10%, transparent); }

.cfg-note { font-size: 12px; opacity: .7; margin-top: 4px; }

/* Totales */
.cfg-totals { display: grid; grid-template-columns: 1fr .6fr .6fr; gap: 10px; margin-top: 16px; align-items: center; }
.cfg-totals .sum { font-weight: 700; font-size: 16px; }

/* Panel de ajustes */
details.cfg-weights { margin-top: 18px; }
details.cfg-weights > summary { cursor: pointer; list-style: none; }
details.cfg-weights > summary::-webkit-details-marker { display: none; }
.weights-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 10px; margin-top: 12px; }

/* Responsive */
@media (max-width: 860px) {
  .cfg-grid, .cfg-totals { grid-template-columns: 1.7fr .8fr .8fr .8fr; }
  .cfg-header { flex-direction: column; align-items: flex-start; gap: 6px; }
}
@media (max-width: 620px) {
  .cfg-grid, .cfg-totals { grid-template-columns: 1.5fr 1fr 1fr; }
  .col-un { display: none; }
}
