/* Evita rebotes de scroll en móvil */
html, body { overscroll-behavior-y: contain; }

/* Altura estable por pantalla usando la variable --vh fijada en nav.js */
.screen {
  min-height: calc(var(--vh, 1svh) * 100);
}

/* Fallback adicional para navegadores muy antiguos */
@supports not (height: 100svh) {
  .screen { min-height: 100vh; }
}
/* ===== Pantalla 2: variante MÓVIL (3 tarjetas + dots) ===== */

/* Ocultar versión de escritorio; mostrar versión móvil */
#screen2 .acerca-desktop { display: none; }
#screen2 .acerca-mobile  { display: block; }

/* Carrusel horizontal: 1 tarjeta por vista, con márgenes laterales */
#screen2 .acerca .acerca-mobile {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;

  gap: 0;                          /* que no asome la siguiente */
  scroll-snap-type: x mandatory;
  scroll-padding-inline: 16px;     /* compensa el margen lateral */

  padding-bottom: 44px;            /* espacio para los dots */

  scrollbar-width: none;
}
#screen2 .acerca .acerca-mobile::-webkit-scrollbar { display: none; }

#screen2 .acerca .acerca-mobile .acerca-card {
  flex: 0 0 auto;
  width: calc(100% - 32px);        /* 16px margen lateral a cada lado */
  max-width: calc(100% - 32px);
  min-width: 0;
  margin: 0 16px;
  box-sizing: border-box;

  border: 1px solid var(--current-fg);
  border-radius: 12px;
  padding: 16px;

  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 8px;

  background: transparent;
  color: var(--current-fg);

  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Dots SOLO en móvil para screen2 (misma estética que screen3) */
#screen2 .dots-acerca {
  position: fixed;
  left: 50%;
  bottom: 12px;
  transform: translateX(-50%);
  z-index: 900;
  display: flex;
  gap: 6px;
  background: transparent;
  padding: 0; margin: 0; border: 0;

  /* ocultos por defecto hasta que screen2 esté visible */
  opacity: 0; visibility: hidden; pointer-events: none;
}

/* Mostrar dots cuando screen2 llena la pantalla (mobile_nav se encarga de la clase) */
body.in-screen2 #screen2 .dots-acerca {
  opacity: 1; visibility: visible; pointer-events: auto;
}

/* Botoncitos */
#screen2 .dots-acerca .dot {
  width: 6px; height: 6px; border-radius: 50%;
  border: none; padding: 0; margin: 0;
  appearance: none; -webkit-appearance: none;
  background: currentColor;
  -webkit-tap-highlight-color: transparent;
}

/* Colores invertidos según modo (igual que en screen3) */
:root[data-theme="light"] #screen2 .dots-acerca .dot { color: hsl(0 0% 15% / 0.55); }
:root[data-theme="light"] #screen2 .dots-acerca .dot[aria-current="true"],
:root[data-theme="light"] #screen2 .dots-acerca .dot.active { color: hsl(0 0% 0%); }

:root[data-theme="dark"]  #screen2 .dots-acerca .dot { color: hsl(0 0% 85% / 0.55); }
:root[data-theme="dark"]  #screen2 .dots-acerca .dot[aria-current="true"],
:root[data-theme="dark"]  #screen2 .dots-acerca .dot.active { color: hsl(0 0% 100%); }

@media (prefers-color-scheme: light) {
  :root:not([data-theme]) #screen2 .dots-acerca .dot { color: hsl(0 0% 15% / 0.55); }
  :root:not([data-theme]) #screen2 .dots-acerca .dot[aria-current="true"] { color: hsl(0 0% 0%); }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) #screen2 .dots-acerca .dot { color: hsl(0 0% 85% / 0.55); }
  :root:not([data-theme]) #screen2 .dots-acerca .dot[aria-current="true"] { color: hsl(0 0% 100%); }
}

/* ===== Modo carrusel en móvil para #screen3 ===== */

/* Contenedor: alto estable; sin padding lateral (lo dan las tarjetas) */
#screen3 .servicios {
  height: calc(var(--vh, 1svh) * 100);
  padding-left: 0;
  padding-right: 0;
}

/* Carrusel: 1 tarjeta por vista, swipe con snap estricto */
#screen3 .servicios .grid {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;

  /* sin gap para que no asome la siguiente; márgenes los pone la tarjeta */
  gap: 0;

  /* snap horizontal estricto */
  scroll-snap-type: x mandatory;
  scroll-padding-inline: 16px; /* centra teniendo en cuenta el margen lateral */

  /* espacio para los puntitos */
  padding-bottom: 44px;

  /* ocultar scrollbar en móviles */
  scrollbar-width: none;               /* Firefox */
}
#screen3 .servicios .grid::-webkit-scrollbar { display: none; } /* WebKit */

/* Tarjeta: ocupa casi todo el ancho, con márgenes laterales estándar */
#screen3 .servicios .card {
  flex: 0 0 auto;                      /* no fuerces 100% exacto */
  width: calc(100% - 32px);            /* 16px de margen a cada lado */
  max-width: calc(100% - 32px);
  min-width: 0;                        /* sin mínimo forzado */
  margin: 0 16px;                      /* márgenes laterales */
  box-sizing: border-box;

  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Puntitos: (no tocamos estilo, solo visibilidad por sección) */
#screen3 .dots {
  position: fixed;
  left: 50%;
  bottom: 12px;
  transform: translateX(-50%);
  z-index: 900;
  display: flex;
  gap: 6px;
  pointer-events: auto;

  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;

  /* por defecto, ocultos */
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* se muestran SOLO cuando el <body> indica que #screen3 está a la vista */
body.in-screen3 #screen3 .dots {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

/* Dots individuales (no cambiamos colores, ya los tenías perfectos) */
#screen3 .dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  border: none;
  padding: 0;
  margin: 0;
  appearance: none;
  -webkit-appearance: none;
  background: currentColor;
}
/* ===== Colores correctos para .dot (según modo) ===== */
:root[data-theme="light"] #screen3 .dot { color: hsl(0 0% 15% / 0.55); }  /* inactivo: casi negro */
:root[data-theme="light"] #screen3 .dot[aria-current="true"],
:root[data-theme="light"] #screen3 .dot.active { color: hsl(0 0% 0%); }    /* activo: negro puro */

:root[data-theme="dark"]  #screen3 .dot { color: hsl(0 0% 85% / 0.55); }  /* inactivo: casi blanco */
:root[data-theme="dark"]  #screen3 .dot[aria-current="true"],
:root[data-theme="dark"]  #screen3 .dot.active { color: hsl(0 0% 100%); } /* activo: blanco puro */

/* Fallback si NO hay data-theme (seguir el sistema) */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) #screen3 .dot { color: hsl(0 0% 15% / 0.55); }
  :root:not([data-theme]) #screen3 .dot[aria-current="true"],
  :root:not([data-theme]) #screen3 .dot.active { color: hsl(0 0% 0%); }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) #screen3 .dot { color: hsl(0 0% 85% / 0.55); }
  :root:not([data-theme]) #screen3 .dot[aria-current="true"],
  :root:not([data-theme]) #screen3 .dot.active { color: hsl(0 0% 100%); }
}

/* Evitar resaltado azul por tap en móvil */
#screen3 .dot { -webkit-tap-highlight-color: transparent; }
