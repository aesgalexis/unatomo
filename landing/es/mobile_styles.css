/* ========================= Base móvil compartida ========================= */

/* Evita rebotes de scroll en móvil */
html, body {
  overscroll-behavior-y: contain;
}

/* Altura estable por pantalla usando 100svh (sin corrección JS) */
.screen {
  min-height: 100svh;
}

/* Fallback adicional para navegadores muy antiguos */
@supports not (height: 100svh) {
  .screen { min-height: 100vh; }
}



/* =========================================================
   SCREEN 2 (Acerca) — versión MÓVIL: 3 tarjetas + dots
   ========================================================= */

/* Visibilidad de variantes en móvil (solo carrusel) */
#screen2 .acerca .acerca-desktop { display: none; }
#screen2 .acerca .acerca-mobile  { display: flex; } /* flex para carrusel */

/* Contenedor: alto estable y sin padding lateral */
#screen2 .acerca {
  height: 100svh;
  padding-left: 0;
  padding-right: 0;
}

/* Título encajado con el ancho visual de las tarjetas (16px por lado) */
 .section-title {
  padding-left: 16px;
  padding-right: 16px;
}

/* Carrusel horizontal: 1 tarjeta por vista, con gutter simétrico (padding+gap) */
#screen2 .acerca .acerca-mobile {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;

  gap: 16px; /* separación entre tarjetas */
  padding: 0 16px 44px; /* 16px a izq/der + espacio para dots */

  scroll-snap-type: x mandatory;
  scroll-padding-inline: 16px; /* alinea respetando el gutter */

  scrollbar-width: none; /* Firefox */
}
#screen2 .acerca .acerca-mobile::-webkit-scrollbar { display: none; } /* WebKit */

/* Tarjeta móvil: ocupa todo el ancho disponible dentro del gutter */
#screen2 .acerca .acerca-mobile .acerca-card {
  flex: 0 0 auto;
  width: 100%;
  max-width: 100%;
  min-width: 0;
  margin: 0; /* sin márgenes laterales en la tarjeta */
  box-sizing: border-box;

  border: 1px solid var(--current-fg);
  border-radius: 12px;
  padding: 16px;

  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  gap: 8px;
  text-align: left; /* evita herencia del centrado del body */

  background: transparent;
  color: var(--current-fg);

  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Dots en móvil para screen2: SIEMPRE en su posición dentro de la sección */
#screen2 .dots-acerca {
  position: sticky; /* se queda pegado al borde inferior mientras esté en la sección */
  bottom: 32px;
  z-index: 900;
  display: flex;
  justify-content: center;
  gap: 6px;

  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
}

/* Botoncitos (estética consistente) */
#screen2 .dots-acerca .dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  border: none;
  padding: 0;
  margin: 0;
  appearance: none;
  -webkit-appearance: none;
  background: currentColor;
  -webkit-tap-highlight-color: transparent;
}


/* Colócalos un poco más cerca de las tarjetas */
#screen2 .dots-acerca { 
  bottom: 20px;          /* antes 32px */
}
/* Colores invertidos según modo */
:root[data-theme="light"] #screen2 .dots-acerca .dot { color: hsl(0 0% 15% / 0.55); }
:root[data-theme="light"] #screen2 .dots-acerca .dot[aria-current="true"],
:root[data-theme="light"] #screen2 .dots-acerca .dot.active { color: hsl(0 0% 0%); }

:root[data-theme="dark"] #screen2 .dots-acerca .dot { color: hsl(0 0% 85% / 0.55); }
:root[data-theme="dark"] #screen2 .dots-acerca .dot[aria-current="true"],
:root[data-theme="dark"] #screen2 .dots-acerca .dot.active { color: hsl(0 0% 100%); }

/* Fallback si NO hay data-theme (seguir el sistema) */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) #screen2 .dots-acerca .dot { color: hsl(0 0% 15% / 0.55); }
  :root:not([data-theme]) #screen2 .dots-acerca .dot[aria-current="true"] { color: hsl(0 0% 0%); }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) #screen2 .dots-acerca .dot { color: hsl(0 0% 85% / 0.55); }
  :root:not([data-theme]) #screen2 .dots-acerca .dot[aria-current="true"] { color: hsl(0 0% 100%); }
}



/* =========================================================
   SCREEN 3 (Servicios) — versión MÓVIL: carrusel + dots
   ========================================================= */

#screen3 .servicios {
  height: 100svh;
  padding-left: 0;
  padding-right: 0;
}

/* Carrusel: 1 tarjeta por vista, swipe con snap estricto */
#screen3 .servicios .grid {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;

  /* sin gap para que no asome la siguiente; márgenes los pone la tarjeta */
  gap: 0;

  /* snap horizontal estricto */
  scroll-snap-type: x mandatory;
  scroll-padding-inline: 16px; /* centra teniendo en cuenta el margen lateral */

  /* espacio para los puntitos */
  padding-bottom: 44px;

  /* ocultar scrollbar en móviles */
  scrollbar-width: none; /* Firefox */
}
#screen3 .servicios .grid::-webkit-scrollbar { display: none; } /* WebKit */

/* Tarjeta: ocupa casi todo el ancho, con márgenes laterales estándar */
#screen3 .servicios .card {
  flex: 0 0 auto;
  width: calc(100% - 32px); /* 16px de margen a cada lado */
  max-width: calc(100% - 32px);
  min-width: 0;
  margin: 0 16px;
  box-sizing: border-box;

  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Dots en móvil para screen3: SIEMPRE en su posición dentro de la sección */
#screen3 .dots {
  position: sticky; /* pegado al borde inferior mientras estés en screen3 */
  bottom: 12px;
  z-index: 900;
  display: flex;
  justify-content: center;
  gap: 6px;

  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
}

/* Dots individuales */
#screen3 .dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  border: none;
  padding: 0;
  margin: 0;
  appearance: none;
  -webkit-appearance: none;
  background: currentColor;
  -webkit-tap-highlight-color: transparent;
}

#screen3 .dots { 
  bottom: 20px;          /* antes 12px */
}
/* Colores correctos según modo (consistentes con screen2) */
:root[data-theme="light"] #screen3 .dot { color: hsl(0 0% 15% / 0.55); }
:root[data-theme="light"] #screen3 .dot[aria-current="true"],
:root[data-theme="light"] #screen3 .dot.active { color: hsl(0 0% 0%); }

:root[data-theme="dark"] #screen3 .dot { color: hsl(0 0% 85% / 0.55); }
:root[data-theme="dark"] #screen3 .dot[aria-current="true"],
:root[data-theme="dark"] #screen3 .dot.active { color: hsl(0 0% 100%); }

/* Fallback si NO hay data-theme (seguir el sistema) */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) #screen3 .dot { color: hsl(0 0% 15% / 0.55); }
  :root:not([data-theme]) #screen3 .dot[aria-current="true"],
  :root:not([data-theme]) #screen3 .dot.active { color: hsl(0 0% 0%); }
}
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) #screen3 .dot { color: hsl(0 0% 85% / 0.55); }
  :root:not([data-theme]) #screen3 .dot[aria-current="true"],
  :root:not([data-theme]) #screen3 .dot.active { color: hsl(0 0% 100%); }
}
/* ===== SCREEN 4 (Tecnología) — MÓVIL: carrusel + dots (mismo patrón que #screen3) ===== */

#screen4 .tecno {
  height: 100svh;
  padding-left: 0;
  padding-right: 0;
}

/* Carrusel: el MISMO .grid pasa a flex scroller en móvil */
#screen4 .tecno .grid {
  display: flex;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;

  gap: 0; /* sin gap; márgenes en .card */
  scroll-snap-type: x mandatory;
  scroll-padding-inline: 16px;

  padding-bottom: 44px; /* espacio para dots */
  scrollbar-width: none; /* Firefox */
}
#screen4 .tecno .grid::-webkit-scrollbar { display: none; } /* WebKit */

/* Tarjeta móvil: exactamente como #screen3 */
#screen4 .tecno .card {
  flex: 0 0 auto;
  width: calc(100% - 32px); /* 16px por lado */
  max-width: calc(100% - 32px);
  min-width: 0;
  margin: 0 16px;
  box-sizing: border-box;

  scroll-snap-align: center;
  scroll-snap-stop: always;
}

/* Dots móviles (mismo selector/clase que #screen3) */
#screen4 .dots {
  position: sticky;
  bottom: 20px;            /* mismo ajuste de #screen3 */
  z-index: 900;
  display: flex;
  justify-content: center;
  gap: 6px;
  background: transparent;
  padding: 0;
  margin: 0;
  border: 0;
}

#screen4 .dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  border: none;
  padding: 0;
  margin: 0;
  appearance: none;
  -webkit-appearance: none;
  background: currentColor;
  -webkit-tap-highlight-color: transparent;
}

/* Colores de dots según tema — mismos que #screen3 */
:root[data-theme="light"] #screen4 .dot { color: hsl(0 0% 15% / 0.55); }
:root[data-theme="light"] #screen4 .dot[aria-current="true"],
:root[data-theme="light"] #screen4 .dot.active { color: hsl(0 0% 0%); }

:root[data-theme="dark"] #screen4 .dot { color: hsl(0 0% 85% / 0.55); }
:root[data-theme="dark"] #screen4 .dot[aria-current="true"],
:root[data-theme="dark"] #screen4 .dot.active { color: hsl(0 0% 100%); }

/* Fallback si NO hay data-theme */
@media (prefers-color-scheme: light) {
  :root:not([data-theme]) #screen4 .dot { color: hsl(0 0% 15% / 0.55); }
  :root:not([data-theme]) #screen4 .dot[aria-current="true"] { color: hsl(0 0% 0%); }
}
@media (prefers-color-scheme: dark) {

/* ===== Dots FIJOS en móvil (pantallas 2, 3 y 4) ===== */
/* Por compatibilidad, lo ponemos al final para sobreescribir cualquier "position: sticky" previo */

#screen2 .dots-acerca,
#screen3 .dots,
#screen4 .dots {
  position: fixed !important;              /* <-- fijos en viewport */
  left: 50%;
  transform: translateX(-50%);
  bottom: calc(env(safe-area-inset-bottom, 0px) + 16px); /* respetar notch */
  z-index: 1000;






  
  /* Mostrar solo los de la pantalla “activa” */
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease-out;
}

/* Cuando la pantalla correspondiente está visible (clase que activamos por JS) */
#screen2 .dots-acerca.is-visible,
#screen3 .dots.is-visible,
#screen4 .dots.is-visible {
  opacity: 1;
  pointer-events: auto;  /* clicables */
}

/* Por si algún sticky anterior quedara aplicado, neutralizamos anclas */
#screen2 .dots-acerca,
#screen3 .dots,
#screen4 .dots {
  top: auto !important;
}

/* Mantenemos el espacio inferior del carrusel para que el contenido no “quede debajo” de los dots */
#screen2 .acerca .acerca-mobile,
#screen3 .servicios .grid,
#screen4 .tecno .grid {
  padding-bottom: 44px;   /* ya lo tienes en 2/3; lo aseguramos también en 4 */
}

  :root:not([data-theme]) #screen4 .dot { color: hsl(0 0% 85% / 0.55); }
  :root:not([data-theme]) #screen4 .dot[aria-current="true"] { color: hsl(0 0% 100%); }
}
